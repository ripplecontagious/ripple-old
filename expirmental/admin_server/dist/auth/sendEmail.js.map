{"version":3,"sources":["../../src/auth/sendEmail.js"],"names":["SPARKPOST_API_KEY","process","env","client","SparkPost","sendEmail","email","url","resetId","newUrl","response","transmissions","send","options","sandbox","endpoint","content","from","subject","html","recipients","address"],"mappings":";;;;;;;AAAA;;;;;;AACA,MAAM,EAAEA,iBAAF,KAAwBC,QAAQC,GAAtC;AACA,MAAMC,SAAS,IAAIC,mBAAJ,CAAcJ,iBAAd,CAAf;;AAEO,MAAMK,gCAAY,OAAO,EAAEC,KAAF,EAASC,GAAT,EAAcC,OAAd,EAAP,KAAmC;AAC1D,QAAMC,SAAU,GAAEF,GAAI,oBAAmBC,OAAQ,EAAjD;AACA,QAAME,WAAW,MAAMP,OAAOQ,aAAP,CAAqBC,IAArB,CAA0B;AAC/CC,aAAS;AACPC,eAAS,IADF;AAEPC,gBAAU;AAFH,KADsC;AAK/CC,aAAS;AACPC,YAAM,0BADC;AAEPC,eAAS,eAFF;AAGPC,YAAO;;;;;uBAKUV,MAAO;;;;AARjB,KALsC;AAkB/CW,gBAAY,CAAC,EAAEC,SAASf,KAAX,EAAD;AAlBmC,GAA1B,CAAvB;AAoBA,SAAOI,QAAP;AACD,CAvBM","file":"sendEmail.js","sourcesContent":["import SparkPost from 'sparkpost'\r\nconst { SPARKPOST_API_KEY } = process.env\r\nconst client = new SparkPost(SPARKPOST_API_KEY)\r\n\r\nexport const sendEmail = async ({ email, url, resetId }) => {\r\n  const newUrl = `${url}/change-password/${resetId}`\r\n  const response = await client.transmissions.send({\r\n    options: {\r\n      sandbox: true,\r\n      endpoint: 'https://dev.sparkpost.com:443'\r\n    },\r\n    content: {\r\n      from: 'testing@sparkpostbox.com',\r\n      subject: 'Confirm Email',\r\n      html: `\r\n        <html>\r\n          <body>\r\n            <h1>Ripple - Contagious Attitudes!</h1>\r\n            <h3>Follow this link and login to confirm your account</h3>\r\n            <a href=\"${newUrl}\">Confirm Email</a>\r\n            <p>If you have not initiated this request, please ignore this email.</p>\r\n          </body>\r\n        </html>`\r\n    },\r\n    recipients: [{ address: email }]\r\n  })\r\n  return response\r\n}\r\n"]}