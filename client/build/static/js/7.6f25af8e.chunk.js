webpackJsonp([7],{1524:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=a.n(n),o=a(38),s=a(83),i=a(1613),p=a(262),u=a(176),l=function(e){var t=e.company.companyName;return r.a.createElement(o.c,{query:u.f,variables:{companyName:t,surveyName:"participant"}},function(e){var a=e.data,n=e.loading,u=e.error,l=e.refetch,d={header:"updating survey",content:"please wait while we retrieve your data"};return n?r.a.createElement(p.a,{message:d}):u?r.a.createElement("div",null,r.a.createElement("p",null,""+u)):a.getSurvey&&!a.getSurvey.errors?r.a.createElement(i.a,{data:a.getSurvey,companyName:t,refetch:l}):r.a.createElement(o.c,{query:s.h},function(e){var a=e.data.participantSurvey;return r.a.createElement(i.a,{data:a,companyName:t,refetch:l})})})};t.default=l},1613:function(e,t,a){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(r,o){try{var s=t[r](o),i=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=a(261),u=a.n(p),l=a(0),d=a.n(l),c=a(38),g=a(28),m=a(784),P=a(260),f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=P.g,y=function(e){function t(){var e,a,i,p,l=this;o(this,t);for(var d=arguments.length,c=Array(d),g=0;g<d;g++)c[g]=arguments[g];return a=i=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.state={message:"",directionStandard:!0,color:"",surveyName:"",companyName:i.props.companyName,subHeadingP1:"",subHeadingP2:"",subHeadingP3:"",subHeadingP4:"",subHeadingP5:"",subHeadingP6:"",introPage1:"",introPage2:"",startP1:"",startP2:"",startP3:"",startP4:"",startP5:"",startP6:"",endP1:"",endP2:"",endP3:"",endP4:"",endP5:"",endP6:"",loading:!1},i.componentDidMount=function(){i.setState({directionStandard:!0,color:i.props.data.color,surveyName:i.props.data.surveyName,companyName:i.props.companyName,subHeadingP1:i.props.data.subHeading.p1,subHeadingP2:i.props.data.subHeading.p2,subHeadingP3:i.props.data.subHeading.p3,subHeadingP4:i.props.data.subHeading.p4,subHeadingP5:i.props.data.subHeading.p5,subHeadingP6:i.props.data.subHeading.p6,introPage1:i.props.data.introPage1,introPage2:i.props.data.introPage2,startP1:i.props.data.start.p1,startP2:i.props.data.start.p2,startP3:i.props.data.start.p3,startP4:i.props.data.start.p4,startP5:i.props.data.start.p5,startP6:i.props.data.start.p6,endP1:i.props.data.end.p1,endP2:i.props.data.end.p2,endP3:i.props.data.end.p3,endP4:i.props.data.end.p4,endP5:i.props.data.end.p5,endP6:i.props.data.end.p5})},i.handleChange=function(e){if(e.preventDefault(),e.target.id){var t=e.target,a=t.id,n=t.value;i.setState(r({},a,n))}},i.handleRadio=function(e){i.setState({color:"color"===e.target.id})},i.handleSubmit=function(){var e=n(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i.setState({loading:!0}),e.prev=2,e.next=5,i.props.mutate({variables:{color:i.state.color,surveyName:i.state.surveyName,companyName:i.props.companyName,introPage1:i.state.introPage1,introPage2:i.state.introPage2,subHeading:{p1:i.state.subHeadingP1,p2:i.state.subHeadingP2,p3:i.state.subHeadingP3,p4:i.state.subHeadingP4,p5:i.state.subHeadingP5,p6:i.state.subHeadingP6},start:{p1:i.state.startP1,p2:i.state.startP2,p3:i.state.startP3,p4:i.state.startP4,p5:i.state.startP5,p6:i.state.startP6},end:{p1:i.state.endP1,p2:i.state.endP2,p3:i.state.endP3,p4:i.state.endP4,p5:i.state.endP5,p6:i.state.endP6}}});case 5:a=e.sent,n=a.message,i.setState({message:n,loading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),i.setState({message:e.t0,loading:!1});case 13:return e.prev=13,e.next=16,i.props.refetch();case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(13),console.log(e.t1);case 21:case"end":return e.stop()}},e,l,[[2,10],[13,18]])}));return function(t){return e.apply(this,arguments)}}(),p=a,s(i,p)}return i(t,e),f(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.message,n=t.surveyName,r=t.introPage1,o=t.introPage2,s=t.color,i=t.loading,p=this.handleChange,u=this.handleRadio,c=this.handleSubmit;return d.a.createElement(m.f,null,d.a.createElement(g.f,{size:"big",onSubmit:c},d.a.createElement(g.f.Group,{widths:"equal"},d.a.createElement(g.f.Field,{id:"title",label:"Title",value:n,type:"text",control:"input",disabled:!0}),d.a.createElement(g.f.Field,{id:"introPage1",label:"Text intro page 1",type:"textarea",control:"textarea",value:r,required:!0,onChange:p}),d.a.createElement(g.f.Field,{id:"introPage2",label:"Text intro page 2",type:"textarea",control:"textarea",value:o,required:!0,onChange:p})),d.a.createElement(g.f.Group,{inline:!0},d.a.createElement("label",null,"Color"),d.a.createElement(g.f.Radio,{id:"color",control:"input",type:"radio",label:"Color",checked:s,onChange:u}),d.a.createElement(g.f.Radio,{id:"grey",control:"input",type:"radio",label:"Greyscale",checked:!s,onChange:u})),[1,2,3,4,5,6].map(function(t){return d.a.createElement(l.Fragment,{key:t},d.a.createElement(g.f.TextArea,{id:"subHeadingP"+t,label:"Heading Page "+t,type:"textarea",control:"textarea",value:e.state["subHeadingP"+t],required:!0,onChange:p}),d.a.createElement(g.f.Group,{inline:!0},d.a.createElement(g.f.Input,{id:"startP"+t,label:"Start of options page "+t,type:"text",value:e.state["startP"+t],required:!0,onChange:p}),d.a.createElement(g.f.Input,{id:"endP"+t,label:"End of options page "+t,type:"text",value:e.state["endP"+t],required:!0,onChange:p})))})),a&&d.a.createElement(g.o,null,d.a.createElement(g.o.List,null,d.a.createElement(g.o.Item,{key:a},a))),d.a.createElement(g.b,{primary:!0,type:"submit",floated:"right",onClick:c,disabled:i},i&&d.a.createElement(g.i,{loading:!0,name:"spinner"}),"Commit Changes"))}}]),t}(l.Component);t.a=Object(c.e)(b)(y)}});
//# sourceMappingURL=7.6f25af8e.chunk.js.map