webpackJsonp([11],{1520:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var c=t[o](a),i=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(261),u=n.n(i),s=n(0),l=n.n(s),f=n(38),p=n(40),m=n(28),d=n(260),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=d.b,b=function(e){function t(){var e,n,c,i,s=this;o(this,t);for(var l=arguments.length,f=Array(l),p=0;p<l;p++)f[p]=arguments[p];return n=c=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),c.state={loading:!0,redirect:!1,home:!1,errors:[]},c.componentDidMount=r(u.a.mark(function e(){var t,n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.props.company,n=t.companyName,r=t.groups,e.next=3,c.props.mutate({variables:{companyName:n,groups:r}}).then(function(e){if(e.data.createCompany){var t=e.data.createCompany[0];c.setState({errors:[t.message],loading:!1}),setTimeout(function(){c.setState({home:!0})},5e3)}else c.setState({redirect:!0})}).catch(function(){return c.setState({home:!0,loading:!1})});case 3:case"end":return e.stop()}},e,s)})),i=n,a(c,i)}return c(t,e),h(t,[{key:"render",value:function(){var e=this.state,t=e.errors,n=e.loading,r=e.redirect,o=e.home;return r?l.a.createElement(p.d,{to:"/admin-dashboard/users/add"}):o?l.a.createElement(p.d,{to:"/admin-dashboard/newcompany"}):n?l.a.createElement(m.o,{icon:!0},l.a.createElement(m.i,{name:"circle notched",loading:!0}),l.a.createElement(m.o.Content,null,l.a.createElement(m.o.Header,null,"Just one second"),"While we create the new company.")):t.length>0?l.a.createElement(m.o,{error:!0,header:"There were some errors with your submission",list:t}):l.a.createElement(m.o,{error:!0,header:"Try again"})}}]),t}(s.Component);t.default=Object(f.e)(y)(b)}});
//# sourceMappingURL=11.f50315ef.chunk.js.map